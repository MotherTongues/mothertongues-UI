"use strict";(self.webpackChunkmtd_mobile_ui=self.webpackChunkmtd_mobile_ui||[]).push([[5024],{5024:(P,d,s)=>{s.r(d),s.d(d,{BrowsePageModule:()=>I});var l=s(6814),v=s(95),o=s(5251),h=s(1725),g=s(8564),u=s(5619),p=s(2572),f=s(7398),t=s(6689);let m=(()=>{class n{constructor(e){this.dataService=e,this.$config=this.dataService.$config,this.$currentEntries=new u.X([]),this.$currentIndexStart=new u.X(0),this.$manualTrigger=new u.X(null),this.currentTen$=(0,p.a)([this.$currentIndexStart,this.$currentEntries,this.$manualTrigger]).pipe((0,f.U)(([r,i,a])=>i.slice(r,r+10))),this.currentLetter$=this.currentTen$.pipe((0,f.U)(r=>{if(r&&this.$config?.value?.alphabet){const i=r[0].sorting_form.filter(a=>a<1e4)[0];return this.$config.value?.alphabet[i]}return""}))}static#t=this.\u0275fac=function(r){return new(r||n)(t.LFG(g.D))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w=s(8044);function b(n,c){if(1&n&&(t.TgZ(0,"ion-select-option"),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.Oqu(e)}}function _(n,c){if(1&n&&(t.TgZ(0,"ion-select-option"),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.Oqu(e)}}function S(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-select",15),t.NdJ("ionChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.handleLetterChange(i))}),t.ALo(2,"async"),t.YNc(3,_,2,1,"ion-select-option",6),t.qZA(),t.TgZ(4,"ion-toast",16),t.NdJ("didDismiss",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.letterNotFound=!1)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("value",t.lcZ(2,4,e.browseService.currentLetter$)),t.xp6(2),t.Q6J("ngForOf",e.displayLetters),t.xp6(1),t.Q6J("isOpen",e.letterNotFound)("duration",5e3)}}function x(n,c){if(1&n&&(t.TgZ(0,"div",17),t._UZ(1,"mtd-entry-list",18),t.qZA()),2&n){const e=c.ngIf;t.xp6(1),t.Q6J("entries",e)}}function $(n,c){if(1&n&&(t.TgZ(0,"ion-title"),t._uU(1),t.ALo(2,"async"),t.qZA()),2&n){const e=t.oxw().ngIf,r=t.oxw();let i;t.xp6(1),t.lnq("Viewing ",e.start+1," to ",e.start+10," of ",null==(i=t.lcZ(2,3,r.browseService.$currentEntries))?null:i.length," Dictionary Entries")}}function y(n,c){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,$,3,5,"ion-title",7),t.qZA()),2&n){const e=c.ngIf;t.xp6(1),t.Q6J("ngIf",null!==e.start)}}const Z=function(n){return{start:n}},T=[{path:"",component:(()=>{class n{constructor(e,r){this.dataService=e,this.browseService=r,this.$config=this.dataService.$config,this.displayLetters=[],this.categories=[],this.letterNotFound=!1}ngOnInit(){this.$dataHash=this.dataService.$entriesHash,this.dataService.$categories.subscribe(e=>this.categories=e),this.dataService.$categorizedEntries.subscribe(e=>{void 0!==e.All&&e.All.length>0&&this.browseService.$currentEntries.next(e.All)}),this.$config.subscribe(e=>{e&&(this.displayLetters=Array.isArray(e.alphabet)?e.alphabet:[...e.alphabet])})}handleLetterChange(e){this.letterNotFound=!1;const r=e?.currentTarget;let i=!1;for(const a of this.browseService.$currentEntries.value)if(a.word.startsWith(r.value)){this.browseService.$currentIndexStart.next(this.browseService.$currentEntries.value.indexOf(a)),i=!0;break}i||(this.letterNotFound=!0)}handleCategoryChange(e){const r=e?.currentTarget;this.browseService.$currentEntries.next(this.dataService.$categorizedEntries.value[r.value]),this.browseService.$currentIndexStart.next(0)}goBack(){this.browseService.$currentIndexStart.next(Math.max(0,this.browseService.$currentIndexStart.value-10))}goForward(){this.browseService.$currentIndexStart.next(Math.min(this.browseService.$currentEntries.value.length-10,this.browseService.$currentIndexStart.value+10))}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(g.D),t.Y36(m))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["mtd-browse"]],decls:28,vars:12,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["label","Select a Category","placeholder","All",3,"ionChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","entry-container",4,"ngIf"],["slot","start",1,"bar-buttons","bar-buttons-ios"],[3,"click"],["slot","icon-only","name","chevron-back-outline",1,"scroll"],["class","browse-info",4,"ngIf"],["slot","end",1,"bar-buttons","bar-buttons-ios"],["slot","icon-only","name","chevron-forward-outline",1,"scroll"],["label","Current Letter",3,"value","ionChange"],["message","Sorry, it doesn't look like there are any words that start with that letter",3,"isOpen","duration","didDismiss"],[1,"entry-container"],[3,"entries"],[1,"browse-info"]],template:function(r,i){1&r&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Browse"),t.qZA()()(),t.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),t._uU(10,"browse"),t.qZA()()(),t.TgZ(11,"ion-list")(12,"ion-item")(13,"ion-select",5),t.NdJ("ionChange",function(C){return i.handleCategoryChange(C)}),t.YNc(14,b,2,1,"ion-select-option",6),t.qZA()(),t.YNc(15,S,5,6,"ion-item",7),t.qZA(),t.YNc(16,x,2,1,"div",8),t.ALo(17,"async"),t.qZA(),t.TgZ(18,"ion-footer")(19,"ion-toolbar")(20,"ion-buttons",9)(21,"ion-button",10),t.NdJ("click",function(){return i.goBack()}),t._UZ(22,"ion-icon",11),t.qZA()(),t.YNc(23,y,2,1,"div",12),t.ALo(24,"async"),t.TgZ(25,"ion-buttons",13)(26,"ion-button",10),t.NdJ("click",function(){return i.goForward()}),t._UZ(27,"ion-icon",14),t.qZA()()()()),2&r&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(8),t.Q6J("ngForOf",i.categories),t.xp6(1),t.Q6J("ngIf",i.displayLetters),t.xp6(1),t.Q6J("ngIf",t.lcZ(17,6,i.browseService.currentTen$)),t.xp6(7),t.Q6J("ngIf",t.VKq(10,Z,t.lcZ(24,8,i.browseService.$currentIndexStart))))},dependencies:[l.sg,l.O5,o.YG,o.Sm,o.W2,o.fr,o.Gu,o.gu,o.Ie,o.q_,o.fG,o.t9,o.n0,o.wd,o.Px,o.sr,o.QI,w.l,l.Ov],styles:[".browse-info[_ngcontent-%COMP%]{margin:0 auto;text-align:center}@media only screen and (max-width: 600px){.browse-info[_ngcontent-%COMP%]{display:none}}"]})}return n})()}];let A=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(T),h.Bz]})}return n})();var B=s(4515);let I=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[m],imports:[l.ez,v.u5,o.Pc,A,B.m]})}return n})()}}]);