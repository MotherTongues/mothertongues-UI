"use strict";(self.webpackChunkmtd_mobile_ui=self.webpackChunkmtd_mobile_ui||[]).push([[2616],{2616:(Y,h,s)=>{s.r(h),s.d(h,{BrowsePageModule:()=>T});var l=s(1368),v=s(4716),o=s(5672),d=s(4730),g=s(5428),u=s(6700),y=s(6040),f=s(4704),t=s(4496);let m=(()=>{class n{constructor(e){this.dataService=e,this.$config=this.dataService.$config,this.$currentEntries=new u.g([]),this.$currentIndexStart=new u.g(0),this.$manualTrigger=new u.g(null),this.currentTen$=(0,y.E)([this.$currentIndexStart,this.$currentEntries,this.$manualTrigger]).pipe((0,f.k)(([i,r,a])=>r.slice(i,i+10))),this.currentLetter$=this.currentTen$.pipe((0,f.k)(i=>{if(i&&this.$config?.value?.alphabet){const r=i[0].sorting_form.filter(a=>a<1e4)[0];return this.$config.value?.alphabet[r]}return""}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.CoB(g.A))};static#e=this.\u0275prov=t.wxM({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w=s(2896);function $(n,c){if(1&n&&(t.I0R(0,"ion-select-option"),t.OEk(1),t.C$Y()),2&n){const e=c.$implicit;t.yG2(),t.cNF(e)}}function b(n,c){if(1&n&&(t.I0R(0,"ion-select-option"),t.OEk(1),t.C$Y()),2&n){const e=c.$implicit;t.yG2(),t.cNF(e)}}function p(n,c){if(1&n){const e=t.KQA();t.I0R(0,"ion-item")(1,"ion-select",15),t.qCj("ionChange",function(r){t.usT(e);const a=t.GaO();return t.CGJ(a.handleLetterChange(r))}),t.wVc(2,"async"),t.yuY(3,b,2,1,"ion-select-option",6),t.C$Y(),t.I0R(4,"ion-toast",16),t.qCj("didDismiss",function(){t.usT(e);const r=t.GaO();return t.CGJ(r.letterNotFound=!1)}),t.C$Y()()}if(2&n){const e=t.GaO();t.yG2(),t.E7m("value",t.kDX(2,4,e.browseService.currentLetter$)),t.yG2(2),t.E7m("ngForOf",e.displayLetters),t.yG2(),t.E7m("isOpen",e.letterNotFound)("duration",5e3)}}function C(n,c){if(1&n&&(t.I0R(0,"div",17),t.wR5(1,"mtd-entry-list",18),t.C$Y()),2&n){const e=c.ngIf;t.yG2(),t.E7m("entries",e)}}function I(n,c){if(1&n&&(t.I0R(0,"ion-title"),t.OEk(1),t.wVc(2,"async"),t.C$Y()),2&n){const e=t.GaO().ngIf,i=t.GaO();let r;t.yG2(),t.MjK("Viewing ",e.start+1," to ",e.start+10," of ",null==(r=t.kDX(2,3,i.browseService.$currentEntries))?null:r.length," Dictionary Entries")}}function S(n,c){if(1&n&&(t.I0R(0,"div",19),t.yuY(1,I,3,5,"ion-title",7),t.C$Y()),2&n){const e=c.ngIf;t.yG2(),t.E7m("ngIf",null!==e.start)}}const _=n=>({start:n}),E=[{path:"",component:(()=>{class n{constructor(e,i){this.dataService=e,this.browseService=i,this.$config=this.dataService.$config,this.displayLetters=[],this.categories=[],this.letterNotFound=!1}ngOnInit(){this.$dataHash=this.dataService.$entriesHash,this.dataService.$categories.subscribe(e=>this.categories=e),this.dataService.$categorizedEntries.subscribe(e=>{void 0!==e.All&&e.All.length>0&&this.browseService.$currentEntries.next(e.All)}),this.$config.subscribe(e=>{e&&(this.displayLetters=Array.isArray(e.alphabet)?e.alphabet:[...e.alphabet])})}handleLetterChange(e){this.letterNotFound=!1;const i=e?.currentTarget;let r=!1;for(const a of this.browseService.$currentEntries.value)if(a.word.startsWith(i.value)){this.browseService.$currentIndexStart.next(this.browseService.$currentEntries.value.indexOf(a)),r=!0;break}r||(this.letterNotFound=!0)}handleCategoryChange(e){const i=e?.currentTarget;this.browseService.$currentEntries.next(this.dataService.$categorizedEntries.value[i.value]),this.browseService.$currentIndexStart.next(0)}goBack(){this.browseService.$currentIndexStart.next(Math.max(0,this.browseService.$currentIndexStart.value-10))}goForward(){this.browseService.$currentIndexStart.next(Math.min(this.browseService.$currentEntries.value.length-10,this.browseService.$currentIndexStart.value+10))}static#t=this.\u0275fac=function(i){return new(i||n)(t.GI1(g.A),t.GI1(m))};static#e=this.\u0275cmp=t.In1({type:n,selectors:[["mtd-browse"]],decls:28,vars:12,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["label","Select a Category","placeholder","All",3,"ionChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","entry-container",4,"ngIf"],["slot","start",1,"bar-buttons","bar-buttons-ios"],[3,"click"],["slot","icon-only","name","chevron-back-outline",1,"scroll"],["class","browse-info",4,"ngIf"],["slot","end",1,"bar-buttons","bar-buttons-ios"],["slot","icon-only","name","chevron-forward-outline",1,"scroll"],["label","Current Letter",3,"value","ionChange"],["message","Sorry, it doesn't look like there are any words that start with that letter",3,"isOpen","duration","didDismiss"],[1,"entry-container"],[3,"entries"],[1,"browse-info"]],template:function(i,r){1&i&&(t.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.wR5(3,"ion-menu-button"),t.C$Y(),t.I0R(4,"ion-title"),t.OEk(5,"Browse"),t.C$Y()()(),t.I0R(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),t.OEk(10,"browse"),t.C$Y()()(),t.I0R(11,"ion-list")(12,"ion-item")(13,"ion-select",5),t.qCj("ionChange",function(O){return r.handleCategoryChange(O)}),t.yuY(14,$,2,1,"ion-select-option",6),t.C$Y()(),t.yuY(15,p,5,6,"ion-item",7),t.C$Y(),t.yuY(16,C,2,1,"div",8),t.wVc(17,"async"),t.C$Y(),t.I0R(18,"ion-footer")(19,"ion-toolbar")(20,"ion-buttons",9)(21,"ion-button",10),t.qCj("click",function(){return r.goBack()}),t.wR5(22,"ion-icon",11),t.C$Y()(),t.yuY(23,S,2,1,"div",12),t.wVc(24,"async"),t.I0R(25,"ion-buttons",13)(26,"ion-button",10),t.qCj("click",function(){return r.goForward()}),t.wR5(27,"ion-icon",14),t.C$Y()()()()),2&i&&(t.E7m("translucent",!0),t.yG2(6),t.E7m("fullscreen",!0),t.yG2(8),t.E7m("ngForOf",r.categories),t.yG2(),t.E7m("ngIf",r.displayLetters),t.yG2(),t.E7m("ngIf",t.kDX(17,6,r.browseService.currentTen$)),t.yG2(7),t.E7m("ngIf",t.S45(10,_,t.kDX(24,8,r.browseService.$currentIndexStart))))},dependencies:[l.ay,l.u_,o.sn,o.GS,o._i,o.eV,o.wB,o.Ko,o.Yb,o.OC,o.QT,o.Cy,o.gd,o.tM,o.BE,o.Md,o.IT,w.I,l.a],styles:[".browse-info[_ngcontent-%COMP%]{margin:0 auto;text-align:center}@media only screen and (max-width: 600px){.browse-info[_ngcontent-%COMP%]{display:none}}"]})}return n})()}];let G=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.a4G({type:n});static#n=this.\u0275inj=t.s3X({imports:[d.qQ.forChild(E),d.qQ]})}return n})();var B=s(8616);let T=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.a4G({type:n});static#n=this.\u0275inj=t.s3X({providers:[m],imports:[l.MD,v.y,o.wZ,G,B.k]})}return n})()}}]);