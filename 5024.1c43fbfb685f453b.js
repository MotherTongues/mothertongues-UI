"use strict";(self.webpackChunkmtd_mobile_ui=self.webpackChunkmtd_mobile_ui||[]).push([[5024],{5024:(I,g,a)=>{a.r(g),a.d(g,{BrowsePageModule:()=>P});var l=a(6814),m=a(95),i=a(5548),d=a(9792),h=a(8564),u=a(5619),p=a(2572),f=a(7398),e=a(6689);let v=(()=>{class n{constructor(t){this.dataService=t,this.$config=this.dataService.$config,this.$currentEntries=new u.X([]),this.$currentIndexStart=new u.X(0),this.$manualTrigger=new u.X(null),this.currentTen$=(0,p.a)([this.$currentIndexStart,this.$currentEntries,this.$manualTrigger]).pipe((0,f.U)(([r,s,c])=>s.slice(r,r+10))),this.currentLetter$=this.currentTen$.pipe((0,f.U)(r=>{if(r&&this.$config?.value?.alphabet){const s=r[0].sorting_form.filter(c=>c<1e4)[0];return this.$config.value?.alphabet[s]}return""}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.D))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var w=a(8044);function b(n,o){if(1&n&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function _(n,o){if(1&n&&(e.TgZ(0,"ion-select-option"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t)}}function S(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item")(1,"ion-select",15),e.NdJ("ionChange",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.handleLetterChange(s))}),e.ALo(2,"async"),e.YNc(3,_,2,1,"ion-select-option",6),e.qZA(),e.TgZ(4,"ion-toast",16),e.NdJ("didDismiss",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.letterNotFound=!1)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("value",e.lcZ(2,4,t.browseService.currentLetter$)),e.xp6(2),e.Q6J("ngForOf",t.displayLetters),e.xp6(1),e.Q6J("isOpen",t.letterNotFound)("duration",5e3)}}function x(n,o){if(1&n&&(e.TgZ(0,"div",17),e._UZ(1,"mtd-entry-list",18),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("entries",t)}}function $(n,o){if(1&n&&(e.TgZ(0,"ion-title"),e._uU(1),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw().ngIf,r=e.oxw();let s;e.xp6(1),e.lnq("Viewing ",t.start+1," to ",t.start+10," of ",null==(s=e.lcZ(2,3,r.browseService.$currentEntries))?null:s.length," Dictionary Entries")}}function y(n,o){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,$,3,5,"ion-title",7),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("ngIf",null!==t.start)}}const Z=function(n){return{start:n}},B=[{path:"",component:(()=>{class n{constructor(t,r){this.dataService=t,this.browseService=r,this.$config=this.dataService.$config,this.displayLetters=[],this.categories=[],this.letterNotFound=!1}ngOnInit(){this.$dataHash=this.dataService.$entriesHash,this.dataService.$categories.subscribe(t=>this.categories=t),this.dataService.$categorizedEntries.subscribe(t=>{void 0!==t.All&&t.All.length>0&&this.browseService.$currentEntries.next(t.All)}),this.$config.subscribe(t=>{t&&(this.displayLetters=Array.isArray(t.alphabet)?t.alphabet:[...t.alphabet])})}handleLetterChange(t){this.letterNotFound=!1;const r=t?.currentTarget;let s=!1;for(const c of this.browseService.$currentEntries.value)if(c.word.startsWith(r.value)){this.browseService.$currentIndexStart.next(this.browseService.$currentEntries.value.indexOf(c)),s=!0;break}s||(this.letterNotFound=!0)}handleCategoryChange(t){const r=t?.currentTarget;this.browseService.$currentEntries.next(this.dataService.$categorizedEntries.value[r.value]),this.browseService.$currentIndexStart.next(0)}goBack(){this.browseService.$currentIndexStart.next(Math.max(0,this.browseService.$currentIndexStart.value-10))}goForward(){this.browseService.$currentIndexStart.next(Math.min(this.browseService.$currentEntries.value.length-10,this.browseService.$currentIndexStart.value+10))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.D),e.Y36(v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mtd-browse"]],decls:28,vars:12,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["label","Select a Category","placeholder","All",3,"ionChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","entry-container",4,"ngIf"],["slot","start",1,"bar-buttons","bar-buttons-ios"],[3,"click"],["slot","icon-only","name","chevron-back-outline",1,"scroll"],["class","browse-info",4,"ngIf"],["slot","end",1,"bar-buttons","bar-buttons-ios"],["slot","icon-only","name","chevron-forward-outline",1,"scroll"],["label","Current Letter",3,"value","ionChange"],["message","Sorry, it doesn't look like there are any words that start with that letter",3,"isOpen","duration","didDismiss"],[1,"entry-container"],[3,"entries"],[1,"browse-info"]],template:function(t,r){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Browse"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),e._uU(10,"browse"),e.qZA()()(),e.TgZ(11,"ion-list")(12,"ion-item")(13,"ion-select",5),e.NdJ("ionChange",function(c){return r.handleCategoryChange(c)}),e.YNc(14,b,2,1,"ion-select-option",6),e.qZA()(),e.YNc(15,S,5,6,"ion-item",7),e.qZA(),e.YNc(16,x,2,1,"div",8),e.ALo(17,"async"),e.qZA(),e.TgZ(18,"ion-footer")(19,"ion-toolbar")(20,"ion-buttons",9)(21,"ion-button",10),e.NdJ("click",function(){return r.goBack()}),e._UZ(22,"ion-icon",11),e.qZA()(),e.YNc(23,y,2,1,"div",12),e.ALo(24,"async"),e.TgZ(25,"ion-buttons",13)(26,"ion-button",10),e.NdJ("click",function(){return r.goForward()}),e._UZ(27,"ion-icon",14),e.qZA()()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(8),e.Q6J("ngForOf",r.categories),e.xp6(1),e.Q6J("ngIf",r.displayLetters),e.xp6(1),e.Q6J("ngIf",e.lcZ(17,6,r.browseService.currentTen$)),e.xp6(7),e.Q6J("ngIf",e.VKq(10,Z,e.lcZ(24,8,r.browseService.$currentIndexStart))))},dependencies:[l.sg,l.O5,i.YG,i.Sm,i.W2,i.fr,i.Gu,i.gu,i.Ie,i.q_,i.fG,i.t9,i.n0,i.wd,i.Px,i.sr,i.QI,w.l,l.Ov],styles:[".browse-info[_ngcontent-%COMP%]{margin:0 auto;text-align:center}@media only screen and (max-width: 600px){.browse-info[_ngcontent-%COMP%]{display:none}}"]}),n})()}];let T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(B),d.Bz]}),n})();var A=a(4515);let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[v],imports:[l.ez,m.u5,i.Pc,T,A.m]}),n})()}}]);